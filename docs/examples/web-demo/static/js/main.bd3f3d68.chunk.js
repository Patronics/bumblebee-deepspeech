(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){"use strict";var i=n(2),o=n(3),s=n(5),r=n(4),a=n(6),c=n(18),u=n.n(c),l=n(1),h=n.n(l),d=(h.a,n(29)),f=n.n(d),p=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(s.a)(this,Object(r.a)(e).call(this))).postCommand=t,n}return Object(a.a)(e,t),Object(o.a)(e,[{key:"start",value:function(){console.log("listen start"),this.postCommand({listenCommand:{command:"start"}})}},{key:"stop",value:function(){console.log("listen stop"),this.postCommand({listenCommand:{command:"stop"}})}},{key:"startContinuous",value:function(t){console.log("startContinuous",t),this.postCommand({listenCommand:{command:"start-continuous",arguments:t}})}},{key:"stopContinuous",value:function(){this.postCommand({listenCommand:{command:"stop-continuous"}})}},{key:"recognizedText",value:function(t){this.emit("recognized",t)}},{key:"onStart",value:function(){this.emit("start",text)}},{key:"onStop",value:function(){this.emit("stop",text)}},{key:"onStartContinuous",value:function(){this.emit("start-continuous",text)}},{key:"onStopContinuous",value:function(){this.emit("stop-continuous",text)}}]),e}(h.a),g=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(s.a)(this,Object(r.a)(e).call(this))).state=t||{},n}return Object(a.a)(e,t),Object(o.a)(e,[{key:"setState",value:function(t,e){var n={},i=!1,o=this.state;for(var s in t)"object"!==typeof t[s]&&o[s]===t[s]||(i=!0,n[s]=t[s],this.state[s]=t[s]);return i?(this.emit("update",this.state,n),e&&e(n),n):null}},{key:"subscribe",value:function(t){this.addListener("update",t)}},{key:"unsubscribe",value:function(t){this.removeListener("update",t)}}]),e}(h.a),m=(n(45),n(30)),v=n.n(m),b=(n(50),h.a,n(10)),y=function(t){function e(t,n){var o;return Object(i.a)(this,e),n||(n={}),(o=Object(s.a)(this,Object(r.a)(e).call(this))).canvas=t,o.width=o.canvas.width,o.height=o.canvas.height,o.audioContext=null,o.meter=null,o.mediaStreamSource=null,o._draw=o.draw.bind(Object(b.a)(Object(b.a)(o))),o.isRecording=!1,o.setTheme({lineWidth:n.lineWidth||3,strokeColor:n.strokeColor||"#FF0000",clipColor:n.clipColor||n.strokeColor||"#FF0000",fillColor:n.fillColor||"rgba(255,0,0,0.1)",bgOnColor:n.bgOnColor||null,bgOffColor:n.bgOffColor||null,dotColor:n.dotColor||"#FF0000",dotSize:n.dotSize||3,background:n.background||null}),o}return Object(a.a)(e,t),Object(o.a)(e,[{key:"setTheme",value:function(t){this.theme=t}},{key:"createAudioMeter",value:function(t,e,n,i){var o=t.createScriptProcessor(512);return o.onaudioprocess=function(t){for(var e,n=t.inputBuffer.getChannelData(0),i=n.length,o=0,s=0;s<i;s++)e=n[s],Math.abs(e)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),o+=e*e;var r=Math.sqrt(o/i);this.volume=Math.max(r,this.volume*this.averaging),this.maxVolume||(this.maxVolume=this.volume),this.maxVolume=Math.max(this.volume,this.maxVolume)},o.clipping=!1,o.lastClip=0,o.volume=0,o.clipLevel=e||.99,o.averaging=n||.97,o.clipLag=i||500,o.connect(t.destination),o.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},o.shutdown=function(){this.disconnect(),this.onaudioprocess=null},o}},{key:"setIsRecording",value:function(t){this.isRecording!==t?(this.isRecording=t,t?this.startRecording():this.stopRecording()):console.log("same")}},{key:"stopRecording",value:function(){this.isRecording&&(this.audioContext?this.meter.disconnect(this.audioContext.destination):console.log("error: no audioContext"),this.mediaStreamSource&&this.meter&&this.mediaStreamSource.disconnect(this.meter),this.meter&&this.meter.shutdown(),this.audioContext&&this.audioContext.close()),this.isRecording=!1,this.isDrawing=!1}},{key:"startRecording",value:function(){var t=this;if(this.isRecording)console.log("already recording");else{console.log("startRecording"),this.isRecording=!0;var e=new AudioContext;this.audioContext=e;try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},function(n){console.log("startRecording success"),t.mediaStreamSource=e.createMediaStreamSource(n),t.meter=t.createAudioMeter(e),t.mediaStreamSource.connect(t.meter),t.startDrawing()},function(t){alert("Microphone Error"),console.log("startRecording fail")})}catch(n){alert("getUserMedia threw exception :"+n)}}}},{key:"loadAudioData",value:function(t,e,n){var i=this;this.audioContext=t,this.source=e,e.connect(t.destination);var o=this.createAudioMeter(t);this.meter=o,e.connect(this.meter),e.onended=function(){i.isPlaying=!1,e.disconnect(t.destination),i.meter.shutdown(),e.stop(),i.stopDrawing(),n&&n()},this.isPlaying=!0,this.startDrawing(),e.start(0)}},{key:"startDrawing",value:function(){this.isDrawing=!0,this.draw()}},{key:"stopDrawing",value:function(){this.meter.volume=0,this.draw(),this.isDrawing=!1}},{key:"draw",value:function(){if(this.canvas){var t=this.canvas.getContext("2d");if(this.theme.background?(t.fillStyle=this.theme.background,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height),this.theme.bgOnColor||this.theme.bgOffColor){var e=Math.min(this.width,this.height)/2-t.lineWidth;t.beginPath(),t.arc(this.width/2,this.height/2,e,0,2*Math.PI,!1),t.fillStyle=this.isPlaying||this.isRecording?this.theme.bgOnColor:this.theme.bgOffColor,t.fill(),t.closePath()}if(t.lineWidth=this.theme.lineWidth,this.theme.dotSize){var n=this.theme.dotSize;t.beginPath(),t.arc(this.width/2,this.height/2,n,0,2*Math.PI,!1),t.fillStyle=this.theme.dotColor,t.fill(),t.closePath()}if(this.isRecording||this.isDrawing){if(!this.meter)return console.error("no mater"),this.startDrawing(),void this.startRecording();t.strokeStyle=this.meter.checkClipping()?this.theme.clipColor:this.theme.strokeColor;var i=Math.min(this.width,this.height)/2-t.lineWidth,o=this.meter.volume*i*5;o>this.width/2-this.theme.lineWidth&&(o=this.width/2-this.theme.lineWidth),t.beginPath(),t.arc(this.width/2,this.height/2,o,0,2*Math.PI,!1),this.theme.fillColor&&(t.fillStyle=this.theme.fillColor,t.fill()),t.stroke(),t.closePath(),this.isDrawing&&window.requestAnimationFrame(this._draw)}else console.log("not drawing")}else console.log("no canvas")}}]),e}(h.a);function w(t){console.log("client post",t);var e={_jaxcore_client:{message:t,protocol:1}};window.postMessage(e,window.document.location.protocol+window.document.location.host)}n.d(e,"a",function(){return S}),n.d(e,"b",function(){return y});var S=new p(w);u.a.setPostCommand(w);var k=function(t){function e(){var t;Object(i.a)(this,e),(t=Object(s.a)(this,Object(r.a)(e).call(this))).reconnect=!0,t.setState({connectedExtension:!1,extensionReady:!1});return window.addEventListener("message",function(e){if(0===document.location.href.indexOf(e.origin)){if(e.data._jaxcore_content){var n=e.data._jaxcore_content.message;n.socketDisconnected?t.setState({connectedExtension:!1}):"extensionReady"in n?(t.setState({extensionReady:!0}),t.emit("extension-ready")):"connectedExtension"in n?(t.setState({connectedExtension:n.connectedExtension}),n.connectedExtension&&(console.log("connectedExtension !"),t.emit("connectedExtension"))):n.spin?(console.log("got spin data from bg",n.spin),u.a.data(n.spin)):n.listen?(console.log("got listen data from bg",n.spin),S.recognizedText(n.listen.recognizedText)):e.data.target&&"inpage"===e.data.target||console.log("client unhandled message",e.data)}}else console.log("nope",e)}),u.a.on("command",function(t,e){console.log("spin command",t,e)}),t}return Object(a.a)(e,t),Object(o.a)(e,[{key:"disconnectExtension",value:function(){this.reconnect=!1,w({disconnectExtension:!0})}},{key:"connect",value:function(t){var e=this;this.once("connectedExtension",t),this.state.extensionReady?this.connectExtension():this.once("extension-ready",function(){e.connectExtension()})}},{key:"connectExtension",value:function(t){this.state.connectedExtension?(console.log("already connectedExtension"),this.emit("connectedExtension")):(console.log("Jaxcore connectExtension"),w({connectExtension:!0}))}},{key:"connectSpins",value:function(t){var e=this;console.log("connectSpins"),u.a.addListener("spin-created",function(e){t(e)}),this.state.extensionReady?this.connectExtension():this.once("extension-ready",function(){e.connectExtension()})}},{key:"onCreate",value:function(t){var e=this;u.a.addListener("spin-created",function(t){e.emit()})}}]),e}(g),C=(v.a.create,new k);f.a.connectAll=C.connectSpins.bind(C);e.c=C},137:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),s=n(62),r=n.n(s),a=(n(70),n(63));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(a.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},18:function(t,e,n){var i=n(1),o=n(29);function s(){this.constructor()}s.prototype=new i,s.prototype.constructor=i,s.prototype.data=function(t){if(t.store)for(var e in t.store)this.add(t.store[e]);else t.created?this.add(t.created):t.update?t.id in o.spinIds?this.update(t.id,t.update):(console.log("transport postcreate",t.id),t.update.id=t.id,this.add(t.update)):t.destroyed},s.prototype.update=function(t,e){var n=o.spinIds[t];for(var i in e)n.state[i]=e[i];"knobPushed"in e&&n.emit("knob",e.knobPushed),"buttonPushed"in e&&n.emit("button",e.buttonPushed),"spinPosition"in e&&(n._lastSpinPosition=n.state.spinPosition,n.emit("spin",n.state.spinDirection,n.state.spinPosition)),"connected"in e&&(e.connected?(this.emit("spin-connected",n),n.emit("connect")):(this.emit("spin-disconnected",n),n.emit("disconnect"))),console.log("update",e),n.emit("update",e)},s.prototype.add=function(t){if(t.id in o.spinIds)this.update(t.id,t);else{var e=o.create(t,this);this.emit("spin-created",e)}},s.prototype.remove=function(t){},s.prototype.sendCommand=function(t,e){console.log("sendCommand",t.id,e);var n=e.shift(),i=e.shift();console.log("args",e),this.postCommandFn({spinCommand:{id:n,method:i,args:e}})},s.prototype.setPostCommand=function(t){this.postCommandFn=t};var r=new s;t.exports=r},29:function(t,e,n){n(1);var i=n(47),o=i.createLogger("Spin Service"),s=i.createStore("Spin Store"),r=i.Client,a=n(83),c={},u=0;function l(t,e){this.constructor(),e&&(this.transport=e);var n=u++;this.log=i.createLogger("Spin "+n);var o=t.ip,r=t.id;c[r]=this,this.id=r;var a=new Date;this.setStore(s),this.setDefaults(t,{id:r,ip:o,instance:n,connected:!1,spinPosition:0,spinDirection:1,spinPreviousTime:a,spinTime:a,knobPushed:!1,knobPushTime:a,knobReleaseTime:a,knobPushDuration:0,knobHold:!1,buttonPushed:!1,buttonPushTime:a,buttonReleaseTime:a,buttonPushDuration:0,buttonHold:!1,batteryVoltage:0,batteryPercent:0,isCharging:!1,isCharged:!1,sleeping:!1,inactivityTime:0}),this.createSettings({brightness:16,knobHoldThreshold:2e3,buttonHoldThreshold:2e3,sleepEnabled:!0,sleepTimer:0})}l.store=s,l.spinIds=c,l.Buffer=a,l.prototype=new r,l.prototype.constructor=r,l.prototype.setDefaults=function(t,e){this.setState(t);var n={};for(var i in e)i in t||(n[i]=e[i]);this.setState(n)},l.prototype.createSettings=function(t){for(var e in this.settingDefaults={},this.settingNames=[],t)this.settingNames.push(e),this.settingDefaults[e]=t[e],this.state[e]=t[e]},l.prototype.changeSettings=function(t){o("changing settings",t);var e={},n=!1;for(var i in t)if(i in this.settingDefaults){var s=t[i],r={};r[i]=t[i],this.setState(r)&&(this.log("changed setting:",i+" = "+s,"(default "+this.settingDefaults[i]+")"),n=!0,e[i]=s)}n&&(this.log("settings-changed",e),this.emit("settings-changed",e))},l.prototype.buffer=function(){return this._buffer||(this._buffer=new l.Buffer(this)),this._buffer.spin.apply(this._buffer,Array.prototype.slice.call(arguments))},l.prototype.bufferDelay=function(){return this._buffer||(this._buffer=new l.Buffer(this)),this._buffer.delay.apply(this._buffer,Array.prototype.slice.call(arguments))},l.prototype.bufferReset=function(){return this._buffer||(this._buffer=new l.Buffer(this)),this._buffer.reset.apply(this._buffer,Array.prototype.slice.call(arguments))},l.prototype.cancelHoldEvents=function(){clearTimeout(this._knobHoldTimer),clearTimeout(this._buttonHoldTimer)},l.prototype.isConnected=function(){return this.state.connected},l.prototype._connected=function(){this.resetDefaults(),this.setState({connected:!0,sleeping:!1}),this.emit("connect",this)},l.prototype.connect=function(){l.transport.connect(this)},l.prototype._sleeping=function(){this.setState({sleeping:!0}),this.emit("sleeping")},l.prototype._removeEvents=function(){this.id;l.transport.remove(this)},l.prototype.disconnect=function(){this.setState({connected:!1}),this.resetDefaults(),this.emit("disconnect",this)},l.prototype.resetDefaults=function(){this.setState({spinPosition:0,knobPushed:!1,knobReleased:!0,buttonPushed:!1,buttonReleased:!0})},l.prototype.processSpin=function(t){console.log("processSpin",t);var e=t>this.state.spinPosition?1:-1;t!==this.state.spinPosition&&this.processEncoder(t,e,!1)},l.prototype.processEncoder=function(t,e,n){var i={};this.cancelHoldEvents(),e!==this.state.spinDirection&&(i.spinDirection=e),i.spinPosition=t,i.spinPreviousTime=this.state.spinTime,i.spinTime=(new Date).getTime(),this.setState(i),this.emit("spin",e,t,n)},l.prototype.processKnob=function(t){var e=this,n={};if(n.knobPushed=t,n.knobReleased=!t,t)n.knobPushTime=(new Date).getTime(),this.setState(n),clearTimeout(this._knobHoldTimer),this._knobHoldTimer=setTimeout(function(){e.log("knobHoldThreshold exceeded"),e.setState({knobHold:!0}),e.emit("knob-hold")},this.state.knobHoldThreshold);else{var i=this.state.knobHold;i&&(n.knobHold=!1,e.emit("knob-hold"),this.log("knob was held, cancelling presses")),n.knobReleaseTime=(new Date).getTime(),clearTimeout(this._knobHoldTimer),this.setState(n),i?this.emit("knob-longpress"):this.emit("knob-press")}this.emit("knob",t)},l.prototype.processButton=function(t){var e=this,n={};if(n.buttonPushed=t,n.buttonReleased=!t,t)n.buttonPushTime=(new Date).getTime(),clearTimeout(this._buttonHoldTimer),this._buttonHoldTimer=setTimeout(function(){e.log("buttonHoldThreshold exceeded"),n.buttonHold=!0,e.emit("button-hold")},this.state.buttonHoldThreshold);else{var i=this.state.buttonHold;i&&(n.buttonHold=!1,this.log("button was held, cancelling presses")),n.buttonReleaseTime=(new Date).getTime(),n.buttonPushDuration=n.buttonReleaseTime-this.state.buttonPushTime,clearTimeout(this._buttonHoldTimer)}this.setState(n),i?this.emit("button-longpress"):this.emit("button-press"),this.emit("button",t)},l.prototype.processStatus=function(t,e,n,i,o,s){t=Math.round(10*t)/10;var r=0===this.state.batteryVoltage,a={};this.state.sleepTimer!==i&&(this.state.sleepTimer=a.sleepTimer=i),this.state.inactivityTime!==o&&(this.state.inactivityTime=a.inactivityTime=o),this.state.sleepEnabled!==s&&(this.state.sleepEnabled=a.sleepEnabled=s),this.state.isCharged!==n&&(this.state.isCharged=n,a.isCharged=n,r||this.emit("charged",n)),this.state.batteryVoltage!==t&&(!0,this.state.batteryVoltage=a.batteryVoltage=t,this.state.batteryPercent=a.batteryPercent=e?1:Math.min(t/4.2,1),r||this.emit("battery",t,a.batteryPercent),this.state.isCharging!==e&&(this.state.isCharging=e,a.isCharging=e,r||this.emit("charging",e)))},l.prototype.processSleep=function(t,e){switch(t){case 0:this.emit("wake");break;case 1:this.emit("sleep-warning",e);break;case 2:this._sleeping()}},l.prototype.sendCommand=function(){var t=Array.prototype.slice.call(arguments);this.transport.sendCommand(this,t)},l.prototype.flash=function(t){this.sendCommand(this.id,"FLASH",t)},l.prototype.quickFlash=function(t,e){e||(e=1),this.bleDevice?this.bleDevice.quickFlash(t,e):this.sendCommand(this.id,"QUICKFLASH",t.join(",")+","+e)},l.prototype.lightsOn=function(t){this.bleDevice?this.bleDevice.lights(t):this.sendCommand(this.id,"LIGHTSON",t)},l.prototype.lightsOff=function(){this.bleDevice?this.bleDevice.lights([0,0,0]):this.sendCommand(this.id,"LIGHTSOFF")},l.prototype.setThrottle=function(t){this.setState({throttle:0}),this.bleDevice||this.sendCommand(this.id,"THROTTLE",t)},l.prototype.setBrightness=function(t){this.bleDevice?this.bleDevice.setBrightness(t):this.sendCommand(this.id,"BRIGHTNESS",t)},l.prototype.setName=function(t){this.bleDevice&&this.bleDevice.setName(t)},l.prototype.rotate=function(t,e,n,i){e||(e=0),this.log("rotate",t,e),this.bleDevice?this.bleDevice.rotate(e,t,n,i):this.sendCommand(this.id,"ROTATE",[e,t])},l.prototype.scale=function(t,e,n,i,o){this.bleDevice?this.bleDevice.scale(e,t,n,i,o):this.sendCommand(this.id,"SCALAR",[e,t])},l.prototype.sleep=function(){this.bleDevice&&this.bleDevice.sleep(),this.sendCommand(this.id,"SLEEP")},l.prototype.delaySleep=function(){this.bleDevice?this.bleDevice.delaySleep():this.sendCommand(this.id,"DELAYSLEEP")},l.prototype.setKnobHoldThreshold=function(t){this.changeSettings({knobHoldThreshold:t})},l.prototype.setButtonHoldThreshold=function(t){this.changeSettings({buttonHoldThreshold:t})},l.prototype.setSleepTimer=function(t){if(this.bleDevice)this.bleDevice.setSleepTimer(t);else{var e=60*t*1e3;this.sendCommand(this.id,"SLEEPTIMER",e)}},l.prototype.destroy=function(){this.disconnect(),this.log("destroying"),this._removeEvents(),delete this.state},l.debug=function(t){i.logger.quiet(!t)},l.spinIds,l.create=function(t,e){if(t.id in c){o("device exists",t),c[t.id].destroy(),delete c[t.id];new l(t,e);return c[t.id]}return o("creating new device",t,e),new l(t,e)},t.exports=l},30:function(t,e){var n={green:console.log,yellow:console.log,cyan:console.log,magenta:console.log},i=!0,o={quiet:function(t){i=t},log:function(){if(!i){var t=Array.prototype.slice.call(arguments);t=t.map(function(e,i){return 0===i&&"object"===typeof e&&e.loggerName?n.green(e.loggerName):"string"===typeof e?i>=2&&"object"===typeof t[0]&&t[0].loggerName&&"string"===typeof t[1]?e:n.cyan(e):"number"===typeof e?n.magenta(e):null===e?n.yellow("null"):"undefined"===typeof e?n.yellow("undefined"):e}),console.log.apply(null,t)}},create:function(t,e){return n=t,function(){var t=Array.prototype.slice.call(arguments);t.unshift({loggerName:n}),o.log.apply(o,t)};var n}};t.exports=o},45:function(t,e,n){var i=n(1),o=n(30).create;function s(t){this.constructor(),this.log=o(t),this.log("created"),this.ids={}}s.prototype=new i,s.prototype.constructor=i,s.prototype.destroy=function(t){this.log("destroying",t),this[t].removeAllListeners("created"),this[t].removeAllListeners("update"),delete this.ids[t],delete this[t],this.emit("destroyed",t)},s.prototype.set=function(t,e){if(t){var n={},i=!1;if(this[t]){var o=this[t];for(var s in e)o[s]!==e[s]&&(i=!0,n[s]=o[s]=e[s])}else this[t]=e,this.ids[t]=!0,this.emit("created",t,e),this.log("created",t,e),i=!0,!0,n=e;return i?(this.emit("update",t,n),n):null}console.log("no set id",e)},t.exports=s},50:function(t,e,n){function i(t){return t instanceof s}var o=n(84),s=function(){if(1===arguments.length&&"number"===typeof arguments[0]&&arguments[0]>=0&&arguments[0]<=255)return this.value=o.rgb(arguments[0],arguments[0],arguments[0]);i(arguments[0])?this.value=arguments[0].value:this.value=arguments.length>0?o.rgb.apply(null,Array.from(arguments)):"#000"};s.prototype={toString:function(){return this.value},alpha:function(t){return new s(o.alpha(this.value,t))},lighten:function(t){return new s(o.lighten(this.value,t))},darken:function(t){return new s(o.darken(this.value,t))},saturate:function(t){return new s(o.saturate(this.value,t))},desaturate:function(t){return new s(o.desaturate(this.value,t))},shiftHSL:function(t,e,n,i){var r=new s(o.shiftHSL(this.value,t,e,n));return i&&(r=r.alpha(i)),r},shiftHue:function(t){return new s(o.shiftHue(this.value,t))},combine:function(t,e){i(t)&&(t=t.value);var n=o.combine(this.value,t,e);return new s(n)},tint:function(t,e){return i(t)&&(t=t.value),new s(o.tint(this.value,t,e))},hue:function(t){return new s(o.hue(this.value,t))},saturation:function(t){return new s(o.saturation(this.value,t))},lightness:function(t){return new s(o.lightness(this.value,t))},invert:function(){return new s(o.invert(this.value))},rgb:function(){var t=Array.from(arguments);return t.unshift(this.value),new s(o.setRGB.apply(null,t))},hsl:function(){var t=Array.from(arguments);return t.unshift(this.value),new s(o.setHSL.apply(null,t))},red:function(t){return this.rgb(t)},green:function(t){return this.rgb(null,t)},blue:function(t){return this.rgb(null,null,t)},getAlpha:function(){return o.getAlpha(this.value)},getRGB:function(){return o.getRGB(this.value)},getHex:function(t){return o.getHex(this.value,t)},getRed:function(){return this.getRGB()[0]},getGreen:function(){return this.getRGB()[1]},getBlue:function(){return this.getRGB()[2]},getHSL:function(){return o.getHSL(this.value)},getHue:function(){return this.getHSL()[0]},getSaturation:function(){return this.getHSL()[1]},getLightness:function(){return this.getHSL()[2]}},s.prototype.rgba=s.prototype.rgb,s.prototype.hsla=s.prototype.hsl,t.exports=s},63:function(t,e,n){"use strict";(function(t){var i=n(2),o=n(3),s=n(5),r=n(4),a=n(6),c=n(10),u=n(0),l=n.n(u),h=n(11),d=n(64),f=n.n(d),p={a:["ah","and"],b:["be"],c:["see"],d:["de"],e:["he"],f:["as","at"],h:["each","eh"],j:["je"],k:["kay","kate","can"],l:[""],m:[""],n:[""],o:[""],p:[""],q:[""],r:[""],s:[""],t:["tea"],u:[""],v:[""],w:[""],x:[""],y:[""],z:[""]};var g=function(e){function n(){var e;return Object(i.a)(this,n),(e=Object(s.a)(this,Object(r.a)(n).call(this))).canvasRef=l.a.createRef(),e.state={isRecording:!1,results:[],connectedExtension:!1,mode:"anything"},t.app=Object(c.a)(Object(c.a)(e)),e}return Object(a.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;h.c.subscribe(function(e){var n=t.state;n.connectedExtension=e.connectedExtension,t.setState(n)}),this.connect(),this.micVisualization=new h.b(this.canvasRef.current,{color:"#FF0000"}),this.micVisualization.draw()}},{key:"connect",value:function(){var t=this;h.c.connect(function(){h.a.on("recognized",function(e){"numbers"===t.state.mode?e=f()(e):"letters"===t.state.mode?e=function(t){if(1===t.length)return t;var e=t.split(/ /)[0];for(var n in p)for(var i=0;i<p[n].length;i++)if(e===p[n][i])return n;console.log("not a letter:",t)}(e):"alphanum"===t.state.mode&&(e=void 0);var n=t.state.results;n.unshift(e),t.setState({results:n})}),h.c.connectSpins(function(e){console.log("spin connected",e),e.on("spin",function(t){console.log("spin",t,e.state.spinPosition)}),e.on("button",function(e){console.log("x button",e),e?t.startRecording():t.stopRecording()}),e.on("knob",function(t){console.log("knob",t)})})})}},{key:"render",value:function(){var t=this;return l.a.createElement("div",{className:"App"},l.a.createElement("canvas",{ref:this.canvasRef,width:"300",height:"300"}),l.a.createElement("div",null,l.a.createElement("button",{onMouseDown:function(e){return t.startRecording()},onMouseUp:function(e){return t.stopRecording()},onMouseOut:function(e){return t.stopRecording()}},"Start Listening")),l.a.createElement("div",null,"Recognize: \xa0",l.a.createElement("input",{id:"anything",name:"mode",type:"radio",value:"anything",checked:"anything"===this.state.mode,onChange:function(e){return t.onChangeMode(e)}}),l.a.createElement("label",{htmlFor:"anything"},"Anything"),"\xa0",l.a.createElement("input",{id:"numbers",name:"mode",type:"radio",value:"numbers",checked:"numbers"===this.state.mode,onChange:function(e){return t.onChangeMode(e)}}),l.a.createElement("label",{htmlFor:"numbers"},"Numbers"),"\xa0",l.a.createElement("input",{id:"letters",name:"mode",type:"radio",value:"letters",checked:"letters"===this.state.mode,onChange:function(e){return t.onChangeMode(e)}}),l.a.createElement("label",{htmlFor:"letters"},"Letters"),"\xa0",l.a.createElement("input",{id:"alphanum",name:"mode",type:"radio",value:"alphanum",checked:"alphanum"===this.state.mode,onChange:function(e){return t.onChangeMode(e)}}),l.a.createElement("label",{htmlFor:"alphanum"},"Alpha Numeric")),l.a.createElement("div",null,l.a.createElement("button",{onMouseDown:function(e){return t.startMicVisualization()},onMouseUp:function(e){return t.stopMicVisualization()},onMouseOut:function(e){return t.stopMicVisualization()}},"Test Mic")),l.a.createElement("div",null,"Listen Status ",this.state.isRecording?"Recording":"Stopped"),l.a.createElement("div",null,"Extension Status ",this.state.connectedExtension?"Connected":"Disconnected"),l.a.createElement("br",null),l.a.createElement("div",null,"Results:"),l.a.createElement("ul",null,this.state.results.map(function(t,e){return l.a.createElement("li",{key:e},t)})))}},{key:"onChangeMode",value:function(t){console.log(t.target.value),this.setState({mode:t.target.value})}},{key:"startRecording",value:function(){var t=this;this.setState({isRecording:!0},function(){h.a.start(),t.startMicVisualization()})}},{key:"stopRecording",value:function(){var t=this;this.setState({isRecording:!1},function(){h.a.stop(),t.stopMicVisualization()})}},{key:"startMicVisualization",value:function(){this.setState({isRecording:!0}),this.micVisualization.startRecording()}},{key:"stopMicVisualization",value:function(){this.setState({isRecording:!1}),this.micVisualization.stopRecording()}}]),n}(u.Component);e.a=g}).call(this,n(31))},65:function(t,e,n){t.exports=n(137)},70:function(t,e,n){},83:function(t,e,n){var i=n(47),o=0;function s(t,e){this.log=i.createLogger("Spin Buffer "+o++),this.log("created buffer",t.id),this.delayTime=0,this.spinDelayed=!1,this.staticBuffer=0,this.kineticBuffer=0,this.spinDirection=0,this.lastSpinTime=0,e||(e={}),this.defaultDelay=e.defaultDelay||500,this.staticTimeout=e.staticTimeout||3e3,this.delayLength=this.defaultDelay,this._onPushKnob=this.onPushKnob.bind(this),t.on("knob",this._onPushKnob);var n=this;this.destroy=function(){t.removeListener("knob",n._onPushKnob)}}s.prototype={},s.prototype.reset=function(t){this.staticBuffer=0,this.kineticBuffer=0,t&&(this.spinDirection=0)},s.prototype.onPushKnob=function(){this.log("reset"),this.reset()},s.prototype.spin=function(t,e,n){"undefined"===typeof n&&(n=e||0),e+=1,n+=1;var i=(new Date).getTime()-this.lastSpinTime;return this.lastSpinTime=(new Date).getTime(),this.isDelayed()?(this.reset(),!1):(i>this.staticTimeout&&(this.log("static timeout exceeded"),this.reset(!0)),t!==this.spinDirection?(this.kineticBuffer=0,this.staticBuffer++,this.staticBuffer>=n?(this.log("static buffer exeeded, spinDirection is now",t),this.spinDirection=t,this.reset(),!0):(this.log("static buffer:",this.staticBuffer,"-"),!1)):this.staticBuffer>0?(this.staticBuffer--,this.log("static buffer:",this.staticBuffer,"+"),this.staticBuffer<0&&(this.staticBuffer=0),!1):(this.kineticBuffer++,this.staticBuffer=0,e>0&&this.log("kinetic buffer:",this.kineticBuffer,1===t?"+":"-"),this.kineticBuffer>=e&&(e>0&&this.log("kinetic buffer exceeded"),this.reset(),!0)))},s.prototype.isDelayed=function(){if(this.spinDelayed){var t=(new Date).getTime()-this.delayTime;return t>this.delayLength?(this.log("delay timed out",(new Date).getTime()-this.delayTime),this.delayLength=this.defaultDelay,this.spinDelayed=!1,!1):(this.log("delaying for "+this.delayLength+" "+t),!0)}return!1},s.prototype.delay=function(t){this.delayLength=t||this.defaultDelay,this.log("delaying for "+this.delayLength+"ms"),this.delayTime=(new Date).getTime(),this.spinDelayed=!0},s.prototype.cancelDelay=function(){this.delayTime=0,this.spinDelayed=!1},t.exports=s},84:function(t,e){var n=function(t){return"object"===typeof t&&"[object Array]"===Object.prototype.toString.apply(t)},i=function(t){return"string"===typeof t||t instanceof String};function o(t,e){if(t.value)t=t.value;else if("undefined"===typeof e)return t;return h(u(t,0,0,e))}function s(t,e){if(t.value)t=t.value;else if("undefined"===typeof e)return t;return h(u(t,0,e,0))}function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),255*(6*n<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t)}function a(t){var e,n,i,o,s,a=t[0],c=t[1],u=t[2];0===c?e=n=i=255*u:(e=r(o=2*u-(s=u<.5?u*(1+c):u+c-u*c),s,a+1/3),n=r(o,s,a),i=r(o,s,a-1/3));return e=Math.round(e),n=Math.round(n),i=Math.round(i),4===t.length?[e,n,i,t[3]]:[e,n,i]}function c(t,e,n,i){var o=a([t/360,e/100,n/100]).map(Math.round);return 4===arguments.length&&(o[3]=i),h(o)}function u(t,e,n,i){"undefined"===typeof e&&(e=0),"undefined"===typeof n&&(n=0),"undefined"===typeof i&&(i=0);var o=f(t),s=m(o);s[0]+=e,s[0]<0&&(s[0]+=1),s[0]>1&&(s[0]-=1),s[1]*=1+n,s[1]<0&&(s[1]=0),s[1]>1&&(s[1]=1),s[2]*=1+i,s[2]<0&&(s[2]=0),s[2]>1&&(s[2]=1);var r=a(s);return 4===o.length&&(r[3]=o[3]),r}function l(t,e,n,i){var o=m(t);return"undefined"!==typeof e&&null!==e||(e=o[0]),"undefined"!==typeof n&&null!==n||(n=o[1]),"undefined"!==typeof i&&null!==i||(i=o[2]),4===o.length?h(a([e,n,i,o[3]])):h(a([e,n,i]))}function h(){if(1===arguments.length){var t=arguments[0];if("string"===typeof t){var e=f(t);return n(e)?h(e):p(e)}if(n(t)&&3===t.length)return p(t);if(n(t)&&4===t.length)return"rgba("+Math.round(t[0])+","+Math.round(t[1])+","+Math.round(t[2])+","+t[3]+")"}else{if(3===arguments.length)return p(Array.from(arguments));if(4===arguments.length)return"number"===typeof arguments[3]&&arguments[3]>0&&arguments[3]<=1?"rgba("+Math.round(arguments[0])+","+Math.round(arguments[1])+","+Math.round(arguments[2])+","+arguments[3]+")":p(Array.from(arguments))}}function d(t){var e=f(t);return 4===e.length?e[3]:0}function f(){if(n(arguments[0]))return arguments[0];if("string"===typeof arguments[0]){var t,e=arguments[0];if(/^#/.test(e)){var i=e.substring(1);return/^[0-9a-f]{6}$/i.test(i)?[parseInt(i.substring(0,2),16),parseInt(i.substring(2,4),16),parseInt(i.substring(4,6),16)]:/^[0-9a-f]{3}$/i.test(i)?[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)]:[0,0,0]}if(t=e.match(/rgb\((\d+.?\d*), ?(\d+.?\d*), ?(\d+.?\d*)\)/))return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3])];if(t=e.match(/rgba\((\d+.?\d*), ?(\d+.?\d*), ?(\d+.?\d*), ?(\d+.?\d*)\)/))return[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}}function p(t,e){if(t){var n=f(t);if(n){var i=g(Math.round(n[0])),o=g(Math.round(n[1])),s=g(Math.round(n[2]));return e||i[0]!==i[1]||o[0]!==o[1]||s[0]!==s[1]?("#"+i+o+s).toUpperCase():("#"+i[0]+o[0]+s[0]).toUpperCase()}}return"#000"}function g(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function m(t){var e;if(n(t))e=t;else{if(!i(t))return console.log("no rgb for ",t),[0,0,0];e=f(t)}var o=e[0]/255,s=e[1]/255,r=e[2]/255,a=Math.max(o,s,r),c=Math.min(o,s,r),u=(a+c)/2,l=0,h=0;if(a===c)l=0,h=0;else{var d=a-c;l=u>.5?d/(2-a-c):d/(a+c),a===o&&(h=(s-r)/d+(s<r?6:0)),a===s&&(h=2+(r-o)/d),a===r&&(h=4+(o-s)/d),(h/=6)<0&&(h+=1)}return 4===e.length?[h,l,u,e[3]]:[h,l,u]}function v(t){return m(t)[0]}t.exports={hsl2rgb:a,hslval:r,int2hex:g,alpha:function(t,e){if("number"===typeof e&&e>=0&&e<=1){var n=f(t);return h(n[0],n[1],n[2],e)}return t},lighten:o,darken:function(t,e){return o(t,-e)},saturate:s,desaturate:function(t,e){return s(t,-e)},shiftHSL:u,shiftHue:function(t,e){return"undefined"===typeof e?t:h(u(t,e,0,0))},combine:function(t,e,n){n=n||.5;var i=d(t),o=f(t),s=f(e),r=Math.round((s[0]-o[0])*n),a=Math.round((s[1]-o[1])*n),c=Math.round((s[2]-o[2])*n);return h(o[0]+r,o[1]+a,o[2]+c,i)},tint:function(t,e,n){var i=v(t),o=v(e)-i;return o>0&&o>.5?o-=1:o<0&&o<-.5&&(o+=1),h(u(t,o*n,null,null))},hue:function(t,e){return l(t,e)},saturation:function(t,e){return l(t,null,e)},lightness:function(t,e){return l(t,null,null,e)},hsl:c,hsla:c,setHSL:l,rgb:h,rgba:h,setRGB:function(t,e,n,i,o){return t=f(t),"number"===typeof e&&(t[0]=e),"number"===typeof n&&(t[1]=n),"number"===typeof i&&(t[2]=i),"number"===typeof o&&(t[3]=o),h(t)},getAlpha:d,getRGB:f,getRed:function(t){return f(t)[0]},getGreen:function(t){return f(t)[1]},getBlue:function(t){return f(t)[2]},getHex:p,getHSL:m,getHue:v,getSaturation:function(t){return m(t)[1]},getLightness:function(t){return m(t)[2]},invert:function(t){for(var e=f(t),n=0;n<3;n++)e[n]=255-e[n];return h(e)}}}},[[65,1,2]]]);
//# sourceMappingURL=main.bd3f3d68.chunk.js.map